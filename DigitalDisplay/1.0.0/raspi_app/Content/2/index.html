<!--
* Copyright (c) 2015, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.
*
* WSO2 Inc. licenses this file to you under the Apache License,
* Version 2.0 (the "License"); you may not use this file except
* in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied. See the License for the
* specific language governing permissions and limitations
* under the License.
-->
<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WSO2 Events Manager</title>

    <link rel="icon" href="favicon.png" type="image/x-icon" />
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/custom-common.css" rel="stylesheet">    
    <link href="css/custom-desktop.css" rel="stylesheet">
    <link href="css/custom-theme.css" rel="stylesheet">

    <!--[if lt IE 9]>
	<script src="js/html5shiv.min.js"></script>
	<script src="js/respond.min.js"></script>
	<![endif]-->
    <script src='js/eventsmanager.js'></script>
    <script>
    
    function init(){
        //console.log("init()");
        var eventsConfig = new EventsConfig();
        //
        /**
        * Possible Locations
        * ==================
        * LK 1st Floor Meeting Room Ext:1005150
        * LK Ground Floor Lobby Area
        * US 787 Castro Board Room Ext:1014160
        * US Palo Alto Conference Room Ext:1014160
        * LK Trace Mezzanine Floor Meeting Room - Gondor Ext:1036212
        * LK Trace Mezzanine Floor Meeting Room - Isengard Ext:1036215
        * LK Trace Mezzanine Floor Meeting Room - Mount Doom Ext:1036210
        * LK Trace Mezzanine Floor Board Room - Mordor Ext:1036211
        * LK Trace Mezzanine Floor Board Room - Shire Ext:1036213
        * LK Trace Ground Floor Training Room - Rivendell
        * LK Trace Ground Floor Meeting Room - Moria Ext:1036214
        * LK 7th Floor Training Room - Area 51
        * LK 7th Floor Meeting Room - Banksy Ext:1005750
        * LK 7th Floor Meeting Room - Pixnit Ext:1005760
        * LK 6th Floor Meeting Room - Dijkstra Ext:1005650
        * LK 6th Floor Meeting Room - Turing Ext:1005660
        * LK 5th Floor Meeting Room - Garage Ext:1005550
        * LK 4th Floor Meeting Room - Hanthana Ext:1005450
        * LK 4th Floor Meeting Room - Yala Ext:1005460
        * LK 3rd Floor Training Room - Boiler Room
        * LK 3rd Floor Meeting Room - Kernel Ext:1005350
        * LK 3rd Floor Meeting Room - Tungsten Ext:1005360
        * LK 3rd Floor Meeting Room - Kernel Ext:1005350
        * LK 3rd Floor Meeting Room - Tungsten Ext:1005360
        * LK 2nd Floor Meeting Room - Rama Ext:1005250
        * LK 2nd Floor Meeting Room - Supernova Ext:1005260
        **/
        var palmGrovePatterns = ["/^(LK)\\s[0-9][a-z]{2}\\s(Floor)/","/(PalmGrove)/i","/(Palm Grove)/i"];
        var tracePatterns=["/^(LK)\\s(Trace)/","/(Trace)/i"];
        var usPatterns=["/^(US)\\s/"];

        document.getElementById("currentLocation").innerHTML = "Here @PalmGrove...";
        eventsConfig.currentLocationPatterns=palmGrovePatterns;//[trace,palmgrove,us] @see isCurrentLocation()
        eventsConfig.currentLocationHashTags="#palmgrove #lk";//define current location identifier hashtags seperated with spaces.
        eventsConfig.userTimeZone = "Colombo"; //example "Rome" "Los_Angeles" ecc...
        eventsConfig.maxRows = 10; //events to shown

        eventsConfig.debugMode = false; 
        eventsConfig.clientId = '5156395218-e9cvuffph0v5r1kenhqvacofgn22t741.apps.googleusercontent.com'; //choose web app client Id, redirect URI and Javascript origin set to http://localhost
        eventsConfig.apiKey = 'AIzaSyCITKcDp56pt2ovXliicx8lTP5yAfChUkU'; //choose public apiKey, any IP allowed (leave blank the allowed IP boxes in Google Dev Console)
        eventsConfig.userEmail = "wso2.com_f6060q1msig0ocoa4k3v2rf2mg@group.calendar.google.com"; //your calendar Id
        
        eventsConfig.calName = "WSO2 Calendar"; //name of calendar (write what you want, doesn't matter)
            
        eventsConfig.scopes = 'https://www.googleapis.com/auth/calendar';

        eventsConfig.pollingTimeInterval = 5000;

        eventsConfig.updateDivTagId = "updated";
        eventsConfig.currentLocTableDivId = "currentLocTable";
        eventsConfig.otherLocTableDivId = "otherLocTable";
        eventsConfig.loginButtonDivId = "btn-login";
        //
        var eventsManager = new EventsManager(eventsConfig);
        eventsManager.handleClientLoad();
    }
    
    </script>
    <script src='https://apis.google.com/js/client.js?onload=init'></script>

</head>

<body>

<div class="wr-modelpopup">
    <div class="modelpopup-content"><!-- dynamic content --></div>
    <div class="modelpopup-bg"></div>
</div>

<div class="container col-lg-12 col-md-12 col-sm-12">

<!-- header -->
<header>
<div class="row wr-global-header">
    <div class="col-xs-6 col-sm-7 col-lg-8 app-logo">
        <a href="home.html"><img src="images/logo.png" /><h2 class="app-title">What's Happening Now @WSO2</h2></a>
    </div>
	<div class="col-xs-6 col-sm-5 col-lg-4 wr-auth-container">
        <div class="wr-auth pull-right">
            <div class="right padding-none">
                <ul class="nav nav-pills float-right" role="tablist">
                    <li class="uppercase white ">
                        <p id='updated' style="color:grey;  padding: 10px 15px;">updating . . . . .</p>
                    </li>
                    <li id="btn-login" class="uppercase white" style="display:none"><a class="login" href="#" ><span class="ro-text">Login</span></a></li>
                </ul>
            </div>
        </div>
	</div>
</div>
</header>
<!-- /header -->
<!-- content/body -->
<div class="row">
	<div class="col-md-12">
		<!-- content -->
		<div class="container-fluid col-centered wr-content">

			<!-- form content placeholder -->
            <div class="section-top-margin"></div>
			<div id="ast-container" class="ast-container ">
                <div class="container-fluid ">
                    <div class="title" id="currentLocation">Here @PalmGrove...</div><!--title-->
                    <div class="float-right"><a class="more" href="#">See More</a></div>
                    <hr>
                </div>
            </div>
			<section >
                <table class="table" style="font-size:24px" id="currentLocTable">
                <thead>
                  <tr>
                    <th>#</th>
                    <th>Event</th>
                    <th>Date</th>
                    <th>From</th>
                    <th>To</th>
                  </tr>
                </thead>
                <tbody >
                    <tr></tr>
                </tbody>
              </table>
			</section>
            </div><!--section-top-margin-->
            <!-- Site details are here-->
            <div id="ast-container" class="ast-container">
                <div class="container-fluid section-top-margin">
                    <div class="title">Happening at other places...</div><!--title-->
                    <div class="float-right"><a class="more" href="#">See More</a></div>
                    <hr>
                </div>
            </div>
            <section  >
                <table class="table" style="font-size:24px" id="otherLocTable">
                <thead>
                  <tr>
                    <th>#</th>
                    <th>Event</th>
                    <th>Venue</th>
                    <th>Date</th>
                    <th>From</th>
                    <th>To</th>
                  </tr>
                </thead>
                <tbody>
                  <tr></tr>
                </tbody>
              </table>
            </section>
            <!-- site details end here-->
		</div>
		<!-- /content -->


	</div>
</div>
<!-- /content/body -->

</div>

<div id="content-filter-types" style="display: none">
    <div class="sort-title">Sort By</div>
    <div class="sort-options">
    	<a href="#">Device Name<span class="ico-sort-asc"></span></a>
    	<a href="#">OS</a>
    	<a href="#">User</a>
    	<a href="#">Model</a>   
    </div>
</div>  

<!-- 
<footer class="footer">
        <p>&copy; 2015 WSO2 Inc. All Rights Reserved</p>
</footer>
-->

<script src="http://code.jquery.com/jquery-latest.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/assetmenu.js"></script>
<script src="js/operationsmenu.js"></script>

<script type="text/javascript">

$( document ).ready(function() {

    $('[data-toggle="tooltip"]').tooltip();   

    $("[data-toggle=popover]").popover();

    $(".ctrl-filter-type-switcher").popover({
        html : true, 
        content: function() {
          return $('#content-filter-types').html();
        }
    });    

	$('#nav').affix({
	      offset: {
	        top: $('header').height()
	      }
	});	 
});

function changeDeviceView(view, selection){
    $('.view-toggle').each(function() {
        $(this).removeClass('selected');
    });
    $(selection).addClass('selected');

    if(view == 'list'){
        $('#ast-container').addClass('list-view');
    }
    else {
        $('#ast-container').removeClass('list-view');
    }
}

</script>

</body>
</html>
